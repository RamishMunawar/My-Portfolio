<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PWA Install Guide - Portfolio</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        .step {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            border-left: 4px solid #4CAF50;
        }
        .important {
            background: rgba(255, 193, 7, 0.2);
            border-left-color: #FFC107;
        }
        .critical {
            background: rgba(244, 67, 54, 0.2);
            border-left-color: #F44336;
        }
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
        }
        button:hover { background: #45a049; }
        .url {
            background: rgba(0, 0, 0, 0.3);
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            margin: 10px 0;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            font-weight: bold;
        }
        .success { background: rgba(76, 175, 80, 0.3); }
        .error { background: rgba(244, 67, 54, 0.3); }
        .warning { background: rgba(255, 152, 0, 0.3); }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ PWA Install Button Guide</h1>
        <p>Follow these steps to get the install button in Chrome address bar:</p>
        
        <div class="step critical">
            <h2>üî• STEP 1: Enable Chrome Flags (MOST IMPORTANT!)</h2>
            <p>Chrome mein ye URL open karo:</p>
            <div class="url">chrome://flags/#bypass-app-banner-engagement-checks</div>
            <p><strong>Action:</strong> "Default" se "Enabled" karo aur Chrome restart karo!</p>
        </div>

        <div class="step important">
            <h2>‚ö° STEP 2: Alternative Chrome Flags</h2>
            <p>If first flag doesn't work, try these:</p>
            <div class="url">chrome://flags/#bypass-app-banner-engagement-checks</div>
            <div class="url">chrome://flags/#bypass-app-banner-engagement-checks</div>
            <p><strong>Action:</strong> Both enable karo aur Chrome restart karo!</p>
        </div>

        <div class="step">
            <h2>üåê STEP 3: Open Your PWA</h2>
            <p>Chrome mein ye URL open karo:</p>
            <div class="url">http://localhost:5173/</div>
            <button onclick="window.open('http://localhost:5173/', '_blank')">Open Main Site</button>
            <button onclick="window.open('http://localhost:5173/pwa-test.html', '_blank')">Open Test Page</button>
        </div>

        <div class="step">
            <h2>‚è∞ STEP 4: Wait and Interact</h2>
            <p><strong>Important:</strong> Chrome requires user engagement before showing install button.</p>
            <ul>
                <li>Wait at least 30 seconds on the page</li>
                <li>Click around the page</li>
                <li>Scroll up and down</li>
                <li>Visit different sections</li>
                <li>Interact with buttons and links</li>
            </ul>
        </div>

        <div class="step">
            <h2>üëÄ STEP 5: Look for Install Button</h2>
            <p>Install button can appear in these places:</p>
            <ul>
                <li><strong>Chrome Address Bar:</strong> Small install icon (üì±)</li>
                <li><strong>Chrome Menu:</strong> Three dots ‚Üí "Install Portfolio"</li>
                <li><strong>Address Bar:</strong> Install icon next to bookmark star</li>
                <li><strong>Mobile:</strong> "Add to Home Screen" option</li>
            </ul>
        </div>

        <div class="step important">
            <h2>üîÑ STEP 6: If Still Not Working</h2>
            <p>Try these alternatives:</p>
            <ul>
                <li><strong>Incognito Mode:</strong> Open in private window</li>
                <li><strong>Different Browser:</strong> Try Microsoft Edge</li>
                <li><strong>Mobile Testing:</strong> Open on phone/tablet</li>
                <li><strong>Production Build:</strong> Use <code>http://localhost:3002/</code></li>
            </ul>
        </div>

        <div class="step">
            <h2>üì± STEP 7: Mobile Testing</h2>
            <p>On mobile devices:</p>
            <ul>
                <li>Open Chrome on your phone</li>
                <li>Go to <code>http://localhost:5173/</code></li>
                <li>Look for "Add to Home Screen" option</li>
                <li>Or three dots menu ‚Üí "Install app"</li>
            </ul>
        </div>

        <div id="status"></div>
        
        <h2>üîß Manual Test</h2>
        <p>Open Chrome Console (F12) and run this code:</p>
        <div class="url">
            window.addEventListener('beforeinstallprompt', (e) => {<br>
            &nbsp;&nbsp;console.log('Install prompt available!');<br>
            &nbsp;&nbsp;e.prompt();<br>
            });
        </div>
        <button onclick="testInstallPrompt()">Test Install Prompt</button>
        
        <h2>üìä PWA Status Check</h2>
        <div id="pwaStatus"></div>
    </div>

    <script>
        function testInstallPrompt() {
            window.addEventListener('beforeinstallprompt', (e) => {
                console.log('Install prompt available!');
                e.prompt();
            });
            alert('Check console for install prompt status');
        }

        // Check PWA status
        function checkPWAStatus() {
            const statusDiv = document.getElementById('pwaStatus');
            let status = '';

            // Check HTTPS/localhost
            if (location.protocol === 'https:' || location.hostname === 'localhost') {
                status += '<div class="status success">‚úÖ HTTPS or localhost</div>';
            } else {
                status += '<div class="status error">‚ùå Not HTTPS or localhost</div>';
            }

            // Check Service Worker
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.getRegistrations().then(registrations => {
                    if (registrations.length > 0) {
                        status += '<div class="status success">‚úÖ Service Worker registered</div>';
                    } else {
                        status += '<div class="status warning">‚ö†Ô∏è No Service Worker registered</div>';
                    }
                });
            } else {
                status += '<div class="status error">‚ùå Service Worker not supported</div>';
            }

            // Check Manifest
            const manifestLink = document.querySelector('link[rel="manifest"]');
            if (manifestLink) {
                status += '<div class="status success">‚úÖ Manifest link found</div>';
            } else {
                status += '<div class="status error">‚ùå No manifest link</div>';
            }

            statusDiv.innerHTML = status;
        }

        // Install prompt handling
        window.addEventListener('beforeinstallprompt', (e) => {
            const statusDiv = document.getElementById('status');
            statusDiv.innerHTML = '<div class="status success">üéâ Install prompt is available! Check Chrome address bar for install icon.</div>';
        });

        // App installed
        window.addEventListener('appinstalled', () => {
            const statusDiv = document.getElementById('status');
            statusDiv.innerHTML = '<div class="status success">üéâ App installed successfully!</div>';
        });

        // Initialize
        checkPWAStatus();
    </script>
</body>
</html>
